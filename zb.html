<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>第七史诗打铁模拟器</title>

    <!-- 引入Bootstrap样式表 -->
    <link
      rel="stylesheet"
      href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.0.2/css/bootstrap.min.css"
    />

    <!-- 引入Vue库 -->
    <script src="https://cdn.bootcdn.net/ajax/libs/vue/2.6.14/vue.min.js"></script>

    <style>
      .center-title {
        text-align: center;
      }
      .full-width {
        width: 100%;
      }
      .table-primary {
        --bs-table-bg: #6f42c1;
        color: white;
      }
      .btn-group {
        display: flex;
        justify-content: space-between;
      }
    </style>
  </head>

  <body >
    <div id="app" class="container">
      <h1 class="center-title">套装试穿</h1>
      <h6 class="center-title">
        @D3Tekim
      </h6>

      
		<center>
		<div>
        <canvas id="test" width="318" height="517"></canvas>
	<form action="">
		<a href="" target="_blank"></a><br>
		属性: <select id="select1">
			<option value = "0">自然</option>
			<option value = "1">寒气</option>
			<option value = "2">火焰</option>
			<option value = "3">光明</option>
			<option value = "4">黑暗</option>
		</select>
		职业: <select id="select2">
			<option value = "0">战士</option>
			<option value = "1">骑士</option>
			<option value = "2">盗贼</option>
			<option value = "3">射手</option>
			<option value = "4">魔导士</option>
			<option value = "5">精灵师</option>
		</select>
		角色: <select id="bw" onchange="getValue()">
		</select><br>
		<br>
		套装: <select id="tz" onchange="getValue()">
			<option value = 0>速度暴击</option>
			<option value = 1>爆伤穿透</option>
			<option value = 2>速度生命</option>
			<option value = 3>反击免疫</option>
			<option value = 4>速度命中</option>
		</select><br>
	</form>
	</div>
	</center>
		 

      

     
     
    </div>

    <script src="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.0.2/js/bootstrap.bundle.min.js"></script>

    <script>
const select1 = document.getElementById('select1');
const select2 = document.getElementById('select2');
const select3 = document.getElementById('bw');    
const optionsMap = {
            '0_0': ['艾莲西雅', '莱娅', '莉莉贝','亚露嘉','缪伊','优芬妮','悟空',
			'扎哈克','利姆鲁'],
            '0_1': ['查尔斯', '魔勒','律荷','雅儿贝德'],
            '0_2': ['瑟琳', '花刺', '席德','二弟', '维德瑞','夜宴llys','艾尔巴伦',
			'梅喧'],
            '0_3': ['木飞剑', '木扇', '丽迪卡','帕贝尔','兰蒂','伊莱卡'],
            '0_4': ['鲁特比', '薇薇安','拉姆','giselle'],
            '0_5': ['木奶', '木瓜奶', '木露露卡','莎伦'],
            '1_0': ['太悟', '旧水镰', '小泡芙','露娜','克罗爱','丽希','雷姆'],
            '1_1': ['宝马', '暑假夏绿蒂', '赛纳','泰温','布里克','karina'],
            '1_2': ['岚', '绮世', '赛兹','水狼','艾碧拉'],
            '1_3': ['尤娜', '维波里丝', '水扇','赛瑞丝','芙兰','路雅','莉莎'],
            '1_4': ['水泰妮', '璐璐卡', '杰诺','艾妲','艾莉雅','芙米尔','蒂姬'],
            '1_5': ['圣女', '水奶', '水琴','雅咪德','碧儿姬达','爱蜜莉雅'],
            '2_0': ['洁若米亚', '火罗菲', '火优芬妮','和英','肯恩','雅碧凯','该隐',
			'红丸','夏提雅','索尔','洁克欧','爱德华'],
            '2_1': ['夏绿蒂', '莉莉亚斯', '塞西莉亚','伊丽娜芙'],
            '2_2': ['凯隆', '海斯特', '济纽亚','winter'],
            '2_3': ['火飞剑', '艾利戈斯', '卡农','落月','雨修','爱尔菲特'],
            '2_4': ['火泰妮', '三眼','雅拉敏塔','赛德丝','卡威利','火双子','梅丽莎',
			'米莉姆','罗伊'],
            '2_5': ['偶像', '朱菜', 'ningning'],
            '3_0': ['光llys', '光绮世', '光夏娜','光绿蒂'],
            '3_1': ['光宝马', '光赛纳', '光兰蒂','光泰温','伯里安','小光盾'],
            '3_2': ['光赛兹', '光凯隆', '光瑟琳','光艾庭'],
            '3_3': ['光狼枪', '光水琴', '光丽迪卡'],
            '3_4': ['光三眼', '光响指', '光蜻蜓','光vva','星法','光水奶'],
            '3_5': ['光之瑞儿', '龙王', '光宝石','光锤'],
            '4_0': ['暗魔王', '暗肯恩', '暗罗','暗泡芙','暗扇','暗莉莉贝',
			'暗卡','史哥','暗枪'],
            '4_1': ['暗龙', '暗木龙'],
            '4_2': ['暗帝', '大哥', '暗老头'],
            '4_3': ['暗水镰', '暗芙兰', '暗飞剑'],
            '4_4': ['暗轮椅', '暗法', '暗木瓜','暗露露卡','骨王','智武','暗女主'],
            '4_5': ['暗双子', '暗正太', '暗医生']
			
};
const nameMap = {
	'蒂姬' : [1039,673,5299,115,15,150,18,18],
	'梅喧' : [1228,473,6266,113,23,150,0,0],
	'洁克欧' : [1228,553,5784,109,23,165,0,0],
	'爱德华' : [984,637,6266,117,15,150,0,0],
	'罗伊' : [1412,645,4248,112,23,150,0,0],
	'莉莎' : [1003,585,5704,115,15,150,30,0],
	'karina' : [821,648,6751,110,15,150,18,0],
	'winter' : [1057,532,5542,118,15,150,30,0],
	'giselle' : [1286,652,4733,103,27,160,0,0],
	'ningning' : [785,634,5077,114,15,150,30,0],
	'赛德丝' : [,,,,15,150,0,0],
	'赛德丝' : [,,,,15,150,0,0],
	'赛德丝' : [,,,,15,150,0,0],
	'朱菜' : [649,694,5254,105,15,150,0,30],
	'米莉姆' : [1359,652,4895,110,23,150,0,0],
	'红丸' : [1177,553,5542,119,27,150,0,0],
	'雅儿贝德' : [894,694,6840,104,15,150,0,0],
	'夏提雅' : [1177,553,5542,119,27,150,0,0],
	'索尔' : [1177,553,5542,119,27,150,0,0],
	'爱尔菲特' : [1003,585,5704,115,15,150,30,0],
	'光艾庭' : [1081,494,4572,111,23,150,0,0],
	'小光盾' : [758,672,5826,95,15,150,0,12],
	'暗枪' : [1144,543,4895,101,23,150,0,0],
	'雷姆' : [1208,616,6488,102,15,150,0,0],
	'拉姆' : [1556,683,4572,106,15,150,30,0],
	'爱蜜莉雅' : [649,694,5254,105,15,150,0,30],
	'利姆鲁' : [1119,627,6266,109,15,150,0,0],
	'梅丽莎' : [1412,645,4248,112,23,150,0,0],
	'艾碧拉' : [1057,532,5542,118,15,150,30,30],
	'雅碧凯' : [984,637,6266,117,15,150,0,0],
	'该隐' : [1359,585,5542,105,23,150,0,0],
	'布里克' : [821,648,6751,110,15,150,18,0],
	'芙米尔' : [1039,673,5299,115,15,150,18,18],
	'碧儿姬达' : [785,634,5077,114,15,150,30,0],
	'丽希' : [885,613,6149,121,15,150,18,0],
	'落月' : [1003,585,5704,115,15,150,30,0],
	'和英' : [1119,627,6266,109,15,150,0,0],
	'肯恩' : [966,657,7323,102,15,150,0,0],
	'水狼' : [1075,487,5562,128,15,150,18,0],
	'路雅' : [993,611,6002,120,15,150,0,0],
	'律荷' : [894,694,6840,104,15,150,0,0],
	'雨修' : [1203,702,5704,115,15,150,30,0],
	'艾莉雅' : [1039,673,5299,115,45,150,18,18],
	'雅咪德' : [694,655,4855,117,15,150,0,30],
	'克罗爱' : [1177,553,5542,119,27,150,0,0],
	'芙兰' : [1003,585,5704,115,15,150,30,0],
	'悟空' : [1208,616,6488,102,15,150,0,0],
	'兰蒂' : [1158,553,6002,112,23,150,0,0],
	'火双子' : [1197,683,4572,106,15,150,30,0],
	'伊莱卡' : [1182,571,5299,114,15,150,18,0],
	'卡农' : [1182,571,5299,114,15,150,18,0],
	'扎哈克' : [1177,553,5542,119,27,150,0,0],
	'莎伦' : [640,720,5340,106,15,150,18,0],
	'赛纳' : [1445,645,6321,100,15,150,0,0],
	'优芬妮' : [1228,553,5784,109,23,165,0,0],
	'魔勒' : [957,634,6148,109,27,150,0,0],
	'露娜' : [1119,627,6266,109,45,150,0,0],
	'火优芬妮' : [1119,627,6266,109,15,150,0,0],
	'泰温' : [821,648,6751,110,15,150,18,0],
	'艾尔巴伦' : [1228,473,6266,113,23,150,0,0],
	'艾妲' : [1255,652,5016,106,27,150,18,0],
	'莉莉亚斯' : [821,648,6751,110,15,150,18,0],
	'帕贝尔' : [1283,536,4976,124,15,150,0,0],
	'夜宴llys' : [1208,508,5178,121,15,165,0,0],
	'水琴' : [649,694,5254,105,15,150,0,30],
	'塞西莉亚' : [821,648,6751,110,15,150,18,0],
	'伊丽娜芙' : [957,634,6148,109,27,150,0,0],
	'小泡芙' : [966,657,7323,102,15,150,0,0],
	'丽迪卡' : [1283,536,4976,124,15,150,0,0],
	'雅拉敏塔' : [1197,683,4572,106,15,150,30,0],
	'赛兹' : [1228,473,6266,113,23,150,0,0],
	'赛瑞丝' : [970,603,5299,122,27,150,0,0],
	'卡威利' : [1306,652,4248,121,23,150,0,0],
	'薇薇安' : [1228,662,4370,119,27,150,0,0],
	'二弟' : [1228,473,6266,113,23,150,0,0],
	'赛德丝' : [1187,627,4491,101,27,160,0,0],
	'海斯特' : [1089,511,5380,120,27,150,12,0],
	'艾利戈斯' : [1283,536,4976,124,15,150,0,0],
	'济纽亚' : [1228,473,6266,113,23,150,0,0],
	'席德' : [1029,473,5097,126,23,150,0,0],
	'绮世' : [1283,522,5138,116,23,150,0,0],
	'水扇' : [1182,571,5299,114,15,150,18,0],
	'木扇' : [1003,585,5704,115,15,150,30,0],
	'维波里丝' : [993,611,6002,120,15,150,0,0],
	'花刺' : [1057,532,5542,118,15,150,30,0],
	'缪伊' : [1039,617,5340,115,27,150,18,0],
	'夏绿蒂' : [1134,662,5825,99,23,150,0,0],
	'三眼' : [1197,683,4572,106,15,150,30,0],
	'暑假夏绿蒂' : [957,634,6148,109,57,150,0,0],
	'旧水镰' : [1228,553,5784,109,23,165,0,0],
	'火罗菲' : [966,657,7323,102,15,150,0,0],
	'智武' : [1255,652,5016,106,27,150,18,0],
	'伯里安' : [821,648,6751,110,15,150,18,0],
	'暗女主' : [1316,715,4777,108,15,150,18,0],
	'太悟' : [1039,617,5340,115,27,150,18,0],
	'亚露嘉' : [1570,616,6488,102,15,150,0,0],
	'维德瑞' : [1283,522,5138,116,23,150,0,0],
	'圣女' : [649,694,5254,105,15,150,0,30],
	'查尔斯' : [957,634,6148,109,27,150,0,0],
	'洁若米亚' : [1359,585,5542,105,23,150,0,0],
	'水奶' : [576,743,5700,98,15,150,0,0],
	'木瓜奶' : [621,802,5474,102,15,150,0,12],
	'莱娅' : [984,637,6266,117,15,150,0,0],
	'莉莉贝' : [1119,627,6266,109,15,150,0,0],
	'璐璐卡' : [1316,715,4777,108,15,150,18,0],
	'杰诺' : [1039,673,5299,115,15,150,18,18],
	'木露露卡' : [649,694,5254,105,15,150,0,30],
	'史哥' : [1228,553,5784,109,23,165,0,0],
	'尤娜' : [1158,553,6002,112,23,150,0,0],
	'木飞剑' : [1158,553,6002,112,23,150,0,0],
	'火飞剑' : [1354,585,5704,115,15,150,30,0],
	'木奶' : [621,775,6034,100,15,150,0,0],
	'凯隆' : [1119,483,5340,129,23,150,0,0],
	'火泰妮' : [1359,652,4895,110,23,150,0,0],
	'水泰妮' : [1039,673,5299,115,15,150,18,18],
	'偶像' : [957,652,4370,111,15,150,12,18],
	'光锤' : [640,720,5340,106,15,150,18,0],
	'星法' : [1039,673,5299,115,15,150,18,18],
	'光泰温' : [894,694,6840,104,15,150,0,0],
	'骨王' : [1039,673,5299,115,15,150,18,18],
	'鲁特比' : [1412,645,4248,112,23,150,0,0],
	'宝马' : [839,752,6405,100,15,150,0,18],
	'暗轮椅' : [1412,645,4248,112,23,150,0,0],
	'暗双子' : [993,611,6002,120,15,150,0,0],
	'暗正太' : [621,802,5474,102,15,150,0,12],
	'光llys' : [885,613,6149,121,15,150,18,0],
	'岚' : [1119,483,5380,129,23,150,0,0],
	'瑟琳' : [1228,473,6266,113,23,150,0,0],
	'艾莲西雅' : [975,652,7054,106,15,150,0,0],
	'暗法' : [1197,683,4572,106,15,150,30,0],
	'暗帝' : [1283,522,5138,116,23,150,0,0],
	'暗魔王' : [966,657,7323,102,15,150,0,0],
	'光之瑞儿' : [621,802,5474,102,15,150,0,12],
	'光绮世' : [1039,617,5340,115,27,150,18,0],
	'暗肯恩' : [1359,585,5542,105,23,150,0,0],
	'暗龙' : [894,694,6840,104,15,150,0,0],
	'光三眼' : [1039,673,5299,115,15,150,18,18],
	'光响指' : [1197,683,4572,106,15,150,30,0],
	'光赛兹' : [1228,473,6266,113,23,150,0,0],
	'暗罗' : [975,652,7054,106,45,150,0,0],
	'光凯隆' : [1228,473,6266,113,23,150,0,0],
	'暗泡芙' : [984,637,6266,117,45,150,0,0],
	'光蜻蜓' : [1306,652,4248,121,23,150,0,0],
	'光宝马' : [839,752,6405,100,15,150,0,18],
	'暗水镰' : [1079,564,5502,115,27,160,0,0],
	'暗木龙' : [830,713,6619,106,23,150,0,0],
	'暗扇' : [1208,616,6488,102,15,150,0,0],
	'暗木瓜' : [1316,715,4777,108,15,150,18,0],
	'暗莉莉贝' : [975,652,7054,106,15,150,0,0],
	'暗露露卡' : [1228,662,4370,119,27,150,0,0],
	'大哥' : [1283,522,5138,116,23,150,0,0],
	'暗卡' : [966,657,7323,102,15,150,0,0],
	'光狼枪' : [1327,582,5138,109,23,150,0,0],
	'暗医生' : [621,775,6034,100,15,150,0,0],
	'光水琴' : [1079,564,5502,115,27,160,0,0],
	'光vva' : [1359,652,4895,110,23,150,0,0],
	'暗老头' : [1228,473,6266,113,23,150,0,0],
	'光水奶' : [957,645,5016,112,15,150,18,18],
	'光赛纳' : [894,694,7524,104,15,150,0,0],
	'暗芙兰' : [1182,571,5299,114,15,150,68,0],
	'龙王' : [640,720,5340,106,15,150,18,0],
	'光兰蒂' : [1134,662,5825,99,23,150,0,0],
	'光瑟琳' : [1158,532,5016,122,27,150,0,0],
	'暗飞剑' : [1182,571,5299,114,15,150,18,0],
	'光夏娜' : [966,668,5663,112,15,150,0,30],
	'光绿蒂' : [1119,627,6266,109,15,150,0,0],
	'光丽迪卡' : [1182,571,5299,114,15,150,18,0],
	'光宝石' : [957,652,4370,111,15,150,12,18],
}
var bl = [];
var def = [];
var att= [];
var bj = [];
var bs = [];
var sp = [];
var mz = [];
var kx = [];
var ans = [],code;
var tes = ["攻击","防御","生命","速度","暴击","爆伤","效果命中","效果抗性"];
var addatt = [0.97,2.02,0.0,1.32,0.28];
var adddef = [0.0,0.0,0.79,0.45,0.54];
var addbl = [0.24,0.24,2.27,1.37,1.44];
var addbj = [77,77,0,77,0];
var addbs = [127,200,0,130,0];
var addsp = [120,38,105,0,130];
var addmz = [0,0,24,0,128];
var addkx = [0,0,74,0,0];
var addspa = [1,0,1,0,1];
var chineseArray = [];
var convas = document.getElementById('test');
var ctx = convas.getContext('2d');
window.onload = function(){
	var img = new Image();
	img.src = "sd.png";
	img.onload = function(){
		ctx.drawImage(img,0,0,318,517);
		getValue();
	}
}
 function updateSelect3() {
            const key = select1.value + '_' + select2.value;
            const options = optionsMap[key] || [];
            select3.innerHTML = ''; // 清空第三个选择框的选项

            options.forEach(option => {
                const optionElem = document.createElement('option');
                optionElem.value = option;
                optionElem.textContent = option;
                select3.appendChild(optionElem);
            });
			getValue();
}

select1.addEventListener('change', updateSelect3);
select2.addEventListener('change', updateSelect3);
updateSelect3();
function getValue(){
	var name = document.getElementById('bw').value;
	var wz = document.getElementById('tz').value;
	ans = [];
	ans.push(nameMap[name][0] * (1.0 + addatt[wz])+515);
	ans.push(nameMap[name][1] * (1.0 + adddef[wz])+310);
	ans.push(nameMap[name][2] * (1.0 + addbl[wz])+2765);
	ans.push(nameMap[name][3] * (1.0 + addspa[wz]*0.25) + addsp[wz]);
	ans.push(nameMap[name][4] + addbj[wz]);
	ans.push(nameMap[name][5] + addbs[wz]);
	ans.push(nameMap[name][6] + addmz[wz]);
	ans.push(nameMap[name][7] + addkx[wz]);
	for (var i = 0; i < 8; i++) {
		ans[i] = Math.floor(ans[i]);
	}
	if(ans[4] > 100) ans[4] = 100;
	if(ans[5] > 350) ans[5] = 350;
	fresh_ans();
}
function fresh_ans(){
	ctx.clearRect(0, 0, 318, 517);
	var selectElement = document.getElementById("bw");
	var selectedText = selectElement.options[selectElement.selectedIndex].text
	var img = new Image();
	img.src = "sd.png";
	img.onload = function(){
		ctx.drawImage(img,0,0,318,517);
		ctx.font = '20px Arial';
		ctx.strokeStyle = 'rgb(255,255,255)';
		ctx.strokeText(selectedText,20,40);
		ctx.font = '14px Arial';
		var first = 325.0,line = 23.0;
		ctx.strokeText("攻击力      " + ans[0],20,first);
		ctx.strokeText("防御力      " + ans[1],20,first + line);
		ctx.strokeText("生命值      " + ans[2],20,first + line*2);
		ctx.strokeText("速度        " + ans[3],20,first + line*3);
		ctx.strokeText("暴击率      " + ans[4],20,first + line*4);
		ctx.strokeText("暴击伤害    " + ans[5],20,first + line*5);
		ctx.strokeText("效果命中    " + ans[6],20,first + line*6);
		ctx.strokeText("效果抗性    " + ans[7],20,first + line*7);
		ctx.strokeStyle = 'rgb(255,255,0)';
	}
}
function changeshow(){ 
	
	ctx.clearRect(0, 0, 318, 517);
	var img = new Image();
	img.src = "sd.png";
	img.onload = function(){
		ctx.drawImage(img,0,0,318,517);
	}
}
    </script>
  </body>
</html>